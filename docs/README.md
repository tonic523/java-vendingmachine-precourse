# 미션 - 자판기

## 프로그램 순서도

1. 자판기를 생성한다.
    1. 자판기가 보유하고 있는 금액을 입력받아 랜덤으로 동전을 생성한다.
    2. 자판기가 보유할 상품 목록을 입력받는다.
    3. 동전들과 상품 목록을 가진 자판기 생성
2. 자판기에 투입할 금액을 입력받는다.
    1. 구매할 수 있는 상품이 있을 때까지 금액을 입력받는다.
3. 자판기에서 상품을 구매한다.
    1. 구매할 상품명을 입력받는다.
    2. 자판기는 구매할 수 있는지 검증하고 판매한다.
    3. 더 이상 살 수 있는 상품이 없을 때까지 반복한다.
4. 잔돈 반환
    1. 자판기에 남은 금액을 보유하고 있는 동전으로 최소의 개수로 반환한다.

## 구현할 기능 목록
### 자판기를 생성한다.
> 자판기가 보유하고 있는 금액을 입력받아 랜덤으로 동전을 생성한다.
- [x] 사용자에게 보유하고 있는 금액 요청
- [x] 입력값은 양수여야 하고 10의 배수여야 한다.
- [x] 입력값으로 동전을 무작위로 생성한다.

> 자판기가 보유할 상품 목록을 입력받는다.
- [x] 사용자에게 보유할 상품 목록을 요청
- [x] `;`로 상품을 구분한다.
- [x] 상품 입력은 정규식에 맞아야 한다. (`[`이름`,`가격`,`수량`]`)
- [x] (이름) 빈 값이면 안된다.
- [x] (가격) 10의 배수이고 100원 이상이어야 한다.
- [x] (수량) 양수여야 한다.
- [x] 이름, 가격을 가진 상품과 상품의 수량을 자판기에 등록한다.

### 자판기에 투입할 금액을 입력받는다.
> 투입 금액을 입력
- [x] 사용자에게 투입할 금액을 요청
- [x] 입력값은 양수여야 하고 10의 배수여야 한다.

> 투입 금액으로 구매할 수 있는 상품이 있는지
- [x] 금액 투입
- [x] 상품 목록은 구매할 수 있는 상품 중 저렴한 가격을 반환
- [x] 자판기는 해당 가격과 투입된 금액 비교

> 투입 금액으로 부족하면 투입 금액 입력부터 다시 실행

### 자판기에서 상품을 구매한다.
> 남은 금액으로 구매할 수 있는 상품이 있는지
- [x] 모든 상품이 매진됬는지, 남은 금액으로 상품을 구매할 수 있는지 확인한다.

> 구매할 상품명 입력
- [x] 사용자에게 구매할 상품 이름을 요청
- [x] 빈 값이면 안된다. 

> 해당 상품명이 구매할 수 있는 상품인지 검증
- [x] 입력값은 상품 목록에 있어야 한다.
- [x] 해당 상품이 매진됬는지 확인한다.
- [x] 남은 금액으로 해당 상품을 구매할 수 있는지 확인한다.

> 상품 구매
- [x] 상품 구매 : 해당 상품 개수 -1 , 남은 금액 - 해당 상품 가격

### 잔돈 반환
> 남은 금액을 잔돈으로 반환한다.
- [x] 자판기가 보유하고 있는 잔돈으로 최소의 개수로 반환해야 한다.
- [x] 남은 금액이 더 클 경우 모든 잔돈을 반환한다.

## 수정 사항
### 자판기에서 구매할 수 있는 상품 중 저렴한 가격을 가져오는 로직
> before
- `자판기(VendingMachine)` -> `상품 목록(Products)` : 구매가 가능한 상품들 중 `가장 저렴한 가격(Money)`를 알려줘!
- `상품 목록(Products)` -> `자판기(VendingMachine)` : `저렴한 가격(Money)`!

> after
- `자판기(VendingMachine)` -> `상품 목록(Products)` : 구매가 가능한 상품 중 저렴한 가격을 가진 `상품(Product)`를 알려줘!
- `상품 목록(Products)` -> `가격(Money)` : 가격을 기준으로 상품을 정렬할 거니깐 상품의 가격들을 비교해줘!
- `가격(Money)` -> `상품 목록(Products)` : 비교!
- `상품 목록(Products)` -> `자판기(VendingMachine)` : 구매가 가능하고 저렴한 가격인 `상품(Product)`!
- `자판기(VendingMachine)` -> `가격(Money)` : 투입 금액이랑 상품 가격이랑 비교해줘!

### 자판기에서 잔돈을 반환했지만 투입 금액은 그대로..
> before
- 자판기의 남은 금액을 잔돈으로 돌려줄 수 있을 만큼 돌려준다.

> after
- 자판기의 남은 금액을 잔돈으로 돌려줄 수 있는 만큼 돌려준다.
- 돌려준 후 남은 금액을 갱신한다.
